# ================================
# PRODUCTION ENVIRONMENT VARIABLES
# FOR: aicare.sumbu.xyz
# ================================
# Copy this file to your VM as .env

# ============================================
# PostgreSQL Database
# ============================================
POSTGRES_HOST=db
POSTGRES_DB=aicare_db
POSTGRES_USER=giga
POSTGRES_PASSWORD=CHANGE_THIS_STRONG_PASSWORD
POSTGRES_PORT=5432
DATABASE_URL=postgresql+asyncpg://giga:CHANGE_THIS_STRONG_PASSWORD@db:5432/aicare_db
DATABASE_URL_SYNC=postgresql://giga:CHANGE_THIS_STRONG_PASSWORD@db:5432/aicare_db

# ============================================
# Redis Configuration
# ============================================
REDIS_HOST=redis-19980.c334.asia-southeast2-1.gce.redns.redis-cloud.com
REDIS_DB=0
REDIS_PORT=19980
REDIS_USERNAME=default
REDIS_PASSWORD=YOUR_REDIS_PASSWORD

# ============================================
# MinIO Object Storage
# ============================================
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=YOUR_MINIO_ACCESS_KEY
MINIO_SECRET_KEY=YOUR_MINIO_SECRET_KEY
MINIO_BUCKET=content-resources
MINIO_SECURE=false

# ============================================
# Backend Security
# ============================================
JWT_SECRET_KEY=YOUR_JWT_SECRET_KEY_GENERATE_WITH_openssl_rand_base64_32
EMAIL_ENCRYPTION_KEY=YOUR_EMAIL_ENCRYPTION_KEY_GENERATE_WITH_openssl_rand_base64_32
INTERNAL_API_KEY=YOUR_INTERNAL_API_KEY_GENERATE_WITH_openssl_rand_base64_32
JWT_EXPIRATION_TIME=3600

# ============================================
# API Keys
# ============================================
GOOGLE_GENAI_API_KEY=YOUR_GOOGLE_GEMINI_API_KEY
GEMINI_API_KEY=YOUR_GOOGLE_GEMINI_API_KEY
TOGETHER_API_KEY=YOUR_TOGETHER_API_KEY

# ============================================
# Twitter API (Optional)
# ============================================
TWITTER_API_KEY=YOUR_TWITTER_API_KEY
TWITTER_API_SECRET=YOUR_TWITTER_API_SECRET
TWITTER_ACCESS_TOKEN=YOUR_TWITTER_ACCESS_TOKEN
TWITTER_ACCESS_TOKEN_SECRET=YOUR_TWITTER_ACCESS_TOKEN_SECRET
TWITTER_BEARER_TOKEN=YOUR_TWITTER_BEARER_TOKEN

# ============================================
# Frontend URLs - PRODUCTION (aicare.sumbu.xyz)
# ============================================
# Public URLs (used by browser/client-side)
NEXTAUTH_URL=https://aicare.sumbu.xyz
NEXT_PUBLIC_API_URL=https://api.aicare.sumbu.xyz
NEXT_PUBLIC_BACKEND_BASE=https://api.aicare.sumbu.xyz
NEXT_PUBLIC_BACKEND_WS_BASE=wss://api.aicare.sumbu.xyz

# Internal URLs (used by Next.js server-side - Docker network)
INTERNAL_API_URL=http://backend:8000

# NextAuth Secret (CRITICAL - REQUIRED)
NEXTAUTH_SECRET=YOUR_NEXTAUTH_SECRET_GENERATE_WITH_openssl_rand_base64_32

# ============================================
# Google OAuth Configuration
# ============================================
GOOGLE_CLIENT_ID=YOUR_GOOGLE_CLIENT_ID.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=YOUR_GOOGLE_CLIENT_SECRET

# IMPORTANT: Add these to Google OAuth Authorized Redirect URIs:
# https://aicare.sumbu.xyz/api/auth/callback/google
# https://api.aicare.sumbu.xyz/api/auth/callback/google

# ============================================
# WalletConnect (Optional)
# ============================================
NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID=YOUR_WALLETCONNECT_PROJECT_ID

# ============================================
# Admin Credentials
# ============================================
ADMIN_EMAIL=admin@ugm.ac.id
ADMIN_PASSWORD=CHANGE_THIS_STRONG_PASSWORD

# ============================================
# Counselor Credentials
# ============================================
COUNSELOR_EMAIL=counselor@ugm.ac.id
COUNSELOR_PASSWORD=CHANGE_THIS_STRONG_PASSWORD
COUNSELOR_NAME=Main Counselor

# ============================================
# Web3 (EDUChain Testnet)
# ============================================
NFT_CONTRACT_ADDRESS=0x8c251c055BC712246392C8229e5ad95859c48AFe
EDU_TESTNET_RPC_URL=https://rpc.open-campus-codex.gelato.digital
EDU_CHAIN_TESTNET_CHAIN_ID=656476
BACKEND_MINTER_PRIVATE_KEY=YOUR_PRIVATE_KEY_WITHOUT_0x_PREFIX

# ============================================
# Backend Configuration
# ============================================
APP_ENV=production
BACKEND_PORT=8000
FRONTEND_PORT=4000
FRONTEND_URL=https://aicare.sumbu.xyz
BACKEND_URL=https://api.aicare.sumbu.xyz
ALLOWED_ORIGINS=https://aicare.sumbu.xyz,https://api.aicare.sumbu.xyz,http://localhost:4000,http://127.0.0.1:4000
LOG_LEVEL=INFO
WORKERS_PER_CORE=4

# ============================================
# Rate Limiting Configuration
# ============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_BYPASS_ADMIN=true
RATE_LIMIT_CHAT_PER_MINUTE_STUDENT=10
RATE_LIMIT_CHAT_PER_HOUR_STUDENT=100
RATE_LIMIT_CHAT_PER_DAY_STUDENT=500
RATE_LIMIT_CHAT_PER_MINUTE_COUNSELLOR=30
RATE_LIMIT_CHAT_PER_HOUR_COUNSELLOR=300
RATE_LIMIT_CHAT_PER_DAY_COUNSELLOR=2000
RATE_LIMIT_ANALYTICS_PER_MINUTE_STUDENT=5
RATE_LIMIT_ANALYTICS_PER_HOUR_STUDENT=30
RATE_LIMIT_ANALYTICS_PER_DAY_STUDENT=100

# ============================================
# Caching Configuration
# ============================================
CACHE_ENABLED=true
CACHE_DEFAULT_TTL=3600
CACHE_USER_SUMMARY_TTL=1800
CACHE_JOURNAL_TTL=900
CACHE_RESOURCE_TTL=86400
CACHE_CBT_MODULE_TTL=86400
CACHE_USER_PROFILE_TTL=3600

# ============================================
# Development Flags
# ============================================
ALLOW_DEV_CREDENTIALS=false

# ============================================
# System
# ============================================
TZ=Asia/Jakarta

# ============================================
# GitHub Container Registry (for deployment)
# ============================================
GHCR_REPOSITORY_OWNER=gigahidjrikaaa
GIT_SHA=latest
